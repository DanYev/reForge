

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hello World! &mdash; reForge 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=dc75d08a" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=01f34227"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Simple CG Protein" href="go_protein.html" />
    <link rel="prev" title="Examples" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            reForge
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../why.html">Why use reForge?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Examples</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Hello World!</a></li>
<li class="toctree-l2"><a class="reference internal" href="go_protein.html">Simple CG Protein</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">reForge API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">reForge</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Examples</a></li>
      <li class="breadcrumb-item active">Hello World!</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/auto_examples/hello_world.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-auto-examples-hello-world-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code.</p>
</div>
<section class="sphx-glr-example-title" id="hello-world">
<span id="sphx-glr-auto-examples-hello-world-py"></span><h1>Hello World!<a class="headerlink" href="#hello-world" title="Link to this heading"></a></h1>
<p>Interface Tutorial</p>
<dl class="simple">
<dt>Requirements:</dt><dd><ul class="simple">
<li><p>HPC cluster</p></li>
<li><p>Python 3.x</p></li>
</ul>
</dd>
</dl>
<p>Author: DY</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
</pre></div>
</div>
<p>One of the motivations behind reForge was to provide a user- and beginner-friendly interface
for managing potentially hundreds or thousands of MD simulations without having to switch
between multiple scripts and constantly rewriting them—all while staying within comfort of Python.
This is what the ‘cli’ module is for:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">reforge.cli</span><span class="w"> </span><span class="kn">import</span> <span class="n">run</span><span class="p">,</span> <span class="n">sbatch</span><span class="p">,</span> <span class="n">dojob</span>
</pre></div>
</div>
<p>The idea is very simple: suppose you have “n” mutants and you need to perform “n” independent runs
for each mutant to achieve sufficient sampling.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">systems</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s1">&#39;mutant_</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">mdruns</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s1">&#39;mdrun_</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
</pre></div>
</div>
<p>The functions run, sbatch, and dojob allow you to execute the same script for all cases:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">system</span> <span class="ow">in</span> <span class="n">systems</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">mdrun</span> <span class="ow">in</span> <span class="n">mdruns</span><span class="p">:</span>
        <span class="n">run</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;echo &quot;Hello, I</span><span class="se">\&#39;</span><span class="s1">m run </span><span class="si">{</span><span class="n">mdrun</span><span class="si">}</span><span class="s1"> of </span><span class="si">{</span><span class="n">system</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Alternatively, you can call run like this:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">system</span> <span class="ow">in</span> <span class="n">systems</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">mdrun</span> <span class="ow">in</span> <span class="n">mdruns</span><span class="p">:</span>
        <span class="n">run</span><span class="p">(</span><span class="s1">&#39;echo&#39;</span><span class="p">,</span> <span class="s1">&#39;Hello, I</span><span class="se">\&#39;</span><span class="s1">m run&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">mdrun</span><span class="si">}</span><span class="s1"> of </span><span class="si">{</span><span class="n">system</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Alternatively, you can sbatch a script. This command passes all positional arguments to the script
and keyword arguments to the SLURM scheduler.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># Set to 1 to actually submit jobs.</span>
    <span class="k">for</span> <span class="n">system</span> <span class="ow">in</span> <span class="n">systems</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">mdrun</span> <span class="ow">in</span> <span class="n">mdruns</span><span class="p">:</span>
            <span class="n">sbatch</span><span class="p">(</span><span class="s1">&#39;hello.sh&#39;</span><span class="p">,</span> <span class="n">mdrun</span><span class="p">,</span> <span class="n">system</span><span class="p">,</span> <span class="n">mem</span><span class="o">=</span><span class="s1">&#39;50M&#39;</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="s1">&#39;00:00:01&#39;</span><span class="p">,</span> <span class="n">partition</span><span class="o">=</span><span class="s1">&#39;htc&#39;</span><span class="p">,</span> <span class="n">qos</span><span class="o">=</span><span class="s1">&#39;public&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>By default, output is written to “slurm_jobs/output_file” and “slurm_jobs/error_file”.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">outfiles</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;slurm_jobs&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;*output*&#39;</span><span class="p">)]</span>
<span class="k">for</span> <span class="n">fpath</span> <span class="ow">in</span> <span class="n">outfiles</span><span class="p">:</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
        <span class="c1"># Print only the first line of each output file.</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">(),</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Hello I am run mdrun_0 of system mutant_1
Hello I am run mdrun_2 of system mutant_0
Hello I am run mdrun_2 of system mutant_3
Hello I am run mdrun_1 of system mutant_2
Hello I am run mdrun_0 of system mutant_2
Hello I am run mdrun_3 of system mutant_1
Hello I am run mdrun_2 of system mutant_1
Hello I am run mdrun_1 of system mutant_3
Hello I am run mdrun_3 of system mutant_0
Hello I am run mdrun_0 of system mutant_3
Hello I am run mdrun_1 of system mutant_0
Hello I am run mdrun_1 of system mutant_1
Hello I am run mdrun_3 of system mutant_2
Hello I am run mdrun_3 of system mutant_3
Hello I am run mdrun_0 of system mutant_0
Hello I am run mdrun_2 of system mutant_2
</pre></div>
</div>
<p>For convenience, dojob will either submit or run the script based on its first argument.
In this case, we do not want to sbatch the script.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">submit</span> <span class="o">=</span> <span class="kc">False</span>
<span class="k">for</span> <span class="n">system</span> <span class="ow">in</span> <span class="n">systems</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">mdrun</span> <span class="ow">in</span> <span class="n">mdruns</span><span class="p">:</span>
        <span class="n">dojob</span><span class="p">(</span><span class="n">submit</span><span class="p">,</span> <span class="s1">&#39;hello.sh&#39;</span><span class="p">,</span> <span class="n">mdrun</span><span class="p">,</span> <span class="n">system</span><span class="p">,</span> <span class="n">mem</span><span class="o">=</span><span class="s1">&#39;50M&#39;</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="s1">&#39;00:00:01&#39;</span><span class="p">,</span> <span class="n">partition</span><span class="o">=</span><span class="s1">&#39;htc&#39;</span><span class="p">,</span> <span class="n">qos</span><span class="o">=</span><span class="s1">&#39;public&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> (0 minutes 1.175 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-hello-world-py">
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../_downloads/eeee61acd5da20db911a57d702aa0157/hello_world.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">hello_world.ipynb</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../_downloads/4a0482547223395862f5ef8428b24568/hello_world.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">hello_world.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-zip docutils container">
<p><a class="reference download internal" download="" href="../_downloads/db168a681f3077ab321fd465e0a9ae14/hello_world.zip"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">zipped:</span> <span class="pre">hello_world.zip</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Examples" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="go_protein.html" class="btn btn-neutral float-right" title="Simple CG Protein" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Danis Yangaliev.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>